<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8"/>

  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <title>HelpAroundYou â€” Post</title>

  <link rel="stylesheet" href="styles.css"/>

</head>

<body>

  <header class="container header">

    <a class="brand" href="./">

      <svg viewBox="0 0 64 64" aria-hidden="true">

        <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#C7C4FF"/><stop offset="1" stop-color="#7C73FF"/></linearGradient></defs>

        <circle cx="32" cy="32" r="28" fill="url(#g)"/><circle cx="23" cy="38" r="6" fill="#fff" opacity=".95"/>

        <path d="M44 18c-6 1-10 5-12 10 6-3 11-2 16 1-1-5-2-8-4-11z" fill="#fff" opacity=".95"/>

      </svg>

      <div class="name"><span class="tight">Help</span><span class="accent">Around</span><span class="tight">You</span></div>

    </a>

    <nav class="actions">

      <a class="btn btn-soft" href="requests.html">See requests</a>

    </nav>

  </header>



  <main class="container">

    <h1 style="font-size:30px;margin:8px 0 16px">Post a request</h1>



    <form id="reqForm" class="card form">

      <div id="msg" style="display:none" class="alert"></div>



      <div class="field">

        <label class="label">Email <small>Weâ€™ll send updates here</small></label>

        <input class="input" type="email" name="email" required placeholder="you@example.com"/>

      </div>



      <div class="field">

        <label class="label">Request Title *</label>

        <input class="input" type="text" name="title" required placeholder="e.g., Need help moving couch"/>

      </div>



      <div class="field">

        <label class="label">Description *</label>

        <textarea name="description" required placeholder="Add details that help the neighbor understand the task."></textarea>

      </div>



      <div class="field">

        <label class="label">Category *</label>

        <select name="category" required>

          <option value="" selected disabled>Selectâ€¦</option>

          <option>Moving</option>

          <option>Pickup with Truck</option>

          <option>Cleaning</option>

          <option>Lawn Care</option>

          <option>Small Fix</option>

          <option>Custom Task</option>

        </select>

      </div>



      <div class="field inline">

        <div>

          <label class="label">Location (zip or area) *</label>

          <input class="input" name="location" required placeholder="e.g., 40218"/>

        </div>

        <div>

          <label class="label">Date needed *</label>

          <input class="input" type="date" name="date" required/>

        </div>

      </div>



      <div class="field">

        <label class="label">Contact Info (optional) <small>Phone or preferred method</small></label>

        <input class="input" name="contact" placeholder="(optional)"/>

      </div>



      <div class="field">

        <label class="label">Photo / File (optional)</label>

        <input class="input" type="file" name="file" accept="image/*,application/pdf"/>

        <p class="hint">Helps the helper understand the task (max ~10MB).</p>

      </div>



      <div class="form-actions">

        <button class="btn btn-primary" type="submit" id="submitBtn">Submit request</button>

        <a class="btn btn-soft" href="./">Cancel</a>

      </div>

      <p class="hint">No commissions. Free to use. Donate any time to support the community â™¥</p>

    </form>

  </main>



  <script>

    // ðŸ”— Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ù‡Ù†Ø§:

    const WEB_APP_URL = "PUT_YOUR_WEB_APP_URL_HERE";



    const f = document.getElementById('reqForm');

    const msg = document.getElementById('msg');

    const submitBtn = document.getElementById('submitBtn');



    f.addEventListener('submit', async (e)=>{

      e.preventDefault();

      msg.style.display='none';

      submitBtn.disabled = true; submitBtn.textContent='Submittingâ€¦';



      try{

        const fd = new FormData(f);

        // Ø§Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙƒÙ…Ø§ ÙŠØªÙˆÙ‚Ø¹Ù‡Ø§ Ø§Ù„Ø³ÙƒØ±Ø¨Øª (Ø¹Ø¯Ù‘Ù„Ù‡Ø§ Ø¥Ø°Ø§ Ø³ÙƒØ±Ø¨ØªÙƒ ÙŠØ³ØªØ®Ø¯Ù… Ù…ÙØ§ØªÙŠØ­ Ù…Ø®ØªÙ„ÙØ©):

        // email, title, description, category, location, date, contact, file



        const res = await fetch(WEB_APP_URL, { method:'POST', body: fd });

        if(!res.ok){ throw new Error('HTTP '+res.status); }

        const data = await res.json().catch(()=>({ok:true}));



        msg.className='alert alert-ok';

        msg.textContent='Your request has been submitted. Thanks!';

        msg.style.display='block';

        f.reset();

      }catch(err){

        msg.className='alert alert-err';

        msg.textContent='Sorry â€” something went wrong. Please try again.';

        msg.style.display='block';

      }finally{

        submitBtn.disabled = false; submitBtn.textContent='Submit request';

      }

    });

  </script>

</body>

</html>
