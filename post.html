<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Post a request — HelpAroundYou</title>

  <link rel="stylesheet" href="styles.css" />

  <script>

    // عدّل هذا إلى رابط الويب الخاص بك:

    const WEB_APP_URL = "PASTE_YOUR_WEB_APP_URL_HERE";

  </script>

</head>

<body>

  <header class="site-header">

    <a class="brand" href="/">

      <svg class="brand-mark" width="24" height="24" viewBox="0 0 64 64" aria-hidden="true">

        <defs><linearGradient id="g2" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#8b5cf6"/><stop offset="1" stop-color="#6366f1"/></linearGradient></defs>

        <circle cx="32" cy="32" r="28" fill="url(#g2)"/><circle cx="22" cy="42" r="7" fill="#fff" opacity=".95"/><path d="M46 26c0 6-12 2-12 2s6-8 12-8v6z" fill="#fff" opacity=".95"/>

      </svg>

      <span class="brand-name"><strong>Help</strong><strong>Around</strong><strong>You</strong></span>

    </a>

    <nav class="top-actions">

      <a class="btn ghost" href="requests.html">See requests</a>

    </nav>

  </header>



  <main class="page-narrow">

    <h1>Post a request</h1>

    <form id="requestForm" class="card form-grid">

      <label>Email <small>We’ll send updates here</small>

        <input name="email" type="email" placeholder="you@example.com" required>

      </label>



      <label>Request Title *

        <input name="title" required placeholder="e.g., Need help moving couch">

      </label>



      <label>Description *

        <textarea name="description" required placeholder="Add details that help the neighbor understand the task"></textarea>

      </label>



      <label>Category *

        <select name="category" required>

          <option value="" selected disabled>Select…</option>

          <option>Moving</option>

          <option>Pickup with Truck</option>

          <option>Cleaning</option>

          <option>Lawn Care</option>

          <option>Custom Task</option>

        </select>

      </label>



      <div class="two-col">

        <label>Location (zip or area) *

          <input name="location" required placeholder="e.g., 40218">

        </label>



        <label>Date needed *

          <input name="date" type="date" required>

        </label>

      </div>



      <label>Contact Info (optional) <small>Phone or preferred method</small>

        <input name="contact" placeholder="(optional)">

      </label>



      <label>Photo / File (optional)

        <input name="file" type="file" accept="image/*,.pdf,.jpg,.png">

        <small>Helps the helper understand the task (max ~10MB).</small>

      </label>



      <div class="form-actions">

        <button class="btn primary" type="submit">Submit Request</button>

        <a class="btn ghost" href="/">Cancel</a>

        <span id="status" class="form-status" role="status"></span>

      </div>

    </form>

  </main>



  <footer class="site-footer">No commissions. Free to use. Donate any time to support the community ♥</footer>



  <script>

    const form = document.getElementById('requestForm');

    const statusEl = document.getElementById('status');



    form.addEventListener('submit', async (e) => {

      e.preventDefault();

      statusEl.textContent = 'Submitting…';

      const fd = new FormData(form);



      try {

        const res = await fetch(WEB_APP_URL, { method: 'POST', body: fd });

        if (!res.ok) throw new Error('Network response not ok');

        const data = await res.json().catch(()=>({ok:true}));

        if (data.ok === false) throw new Error(data.message || 'Server error');



        statusEl.textContent = '✅ Request submitted!';

        form.reset();

      } catch (err) {

        console.error(err);

        statusEl.textContent = '❌ Sorry — something went wrong. Please try again.';

      }

    });

  </script>

</body>

</html>
