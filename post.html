<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Post a Request — Help Around You</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>

:root{--green:#18a355;--green-700:#117c40;--ink:#0f172a;--muted:#5b677a;--card:#f7fafc;--shadow:0 12px 28px rgba(15,23,42,.08);--radius:18px}

*{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink)}

.container{max-width:860px;margin:0 auto;padding:24px}

header{display:flex;align-items:center;gap:14px;margin-bottom:8px}

.logo{width:68px;height:68px;border-radius:50%;

  background:radial-gradient(circle at 34% 34%, #b5f0c9 0 30px, #89e0a3 30px 62px),

             radial-gradient(circle at 70% 68%, #18a355 0 10px, #18a35500 11px);

  box-shadow:inset 0 0 0 6px #cfe7ff;}

h1{margin:0;font-weight:800;font-size:26px} h1 .around{color:#0f7a3b}

.form{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}

label{display:block;font-weight:600;margin:12px 0 6px}

input,select,textarea{width:100%;padding:12px 14px;border:1px solid #dfe3ea;border-radius:14px;font:inherit}

textarea{min-height:120px;resize:vertical}

.row{display:grid;grid-template-columns:1fr 1fr;gap:14px}

.actions{display:flex;gap:12px;margin-top:16px}

.btn{border:0;border-radius:999px;padding:12px 18px;font-weight:700;cursor:pointer}

.btn-primary{background:var(--green);color:#fff}.btn-primary:hover{background:var(--green-700)}

.btn-lite{background:#eef2f6}

.note{color:var(--muted);font-size:14px}

.alert{margin-top:14px;padding:12px 14px;border-radius:12px;display:none}

.err{background:#fee2e2;color:#991b1b}.ok{background:#e8f8ef;color:#0d6b3d}

</style>

</head>

<body>

<div class="container">

  <header>

    <div class="logo" aria-hidden="true"></div>

    <h1>Help <span class="around">Around</span> You</h1>

  </header>



  <h2 style="margin:0 0 10px">Post a request</h2>

  <p class="note" style="margin:0 0 16px">Fill the fields below. A neighbor will reach out to help.</p>



  <form id="f" class="form">

    <label>Email *</label>

    <input name="email" type="email" required placeholder="you@email.com"/>



    <label>Request Title *</label>

    <input name="title" required placeholder="e.g., Move a couch"/>



    <label>Description *</label>

    <textarea name="description" required placeholder="Add helpful details"></textarea>



    <label>Category *</label>

    <select name="category" required>

      <option value="">Select…</option>

      <option>Moving</option><option>Pickup with Truck</option>

      <option>Cleaning</option><option>Lawn Care</option><option>Custom Task</option>

    </select>



    <div class="row">

      <div>

        <label>Location (zip or area) *</label>

        <input name="location" required placeholder="e.g., 40218"/>

      </div>

      <div>

        <label>Date needed</label>

        <input name="dateNeeded" type="date"/>

      </div>

    </div>



    <label>Contact Info (optional)</label>

    <input name="contactInfo" placeholder="Phone or preferred contact"/>



    <label>Photo / File (optional)</label>

    <input name="file" type="file" accept="image/*,.pdf"/>



    <div class="actions">

      <button class="btn btn-primary" type="submit">Post a request</button>

      <a class="btn btn-lite" href="index.html">Cancel</a>

    </div>



    <div id="msg" class="alert"></div>

    <p class="note">No commissions. Free to use. Donate any time to support the community ♥</p>

  </form>

</div>



<script>

const API = "https://script.google.com/macros/s/AKfycbwMAf07IKqdgu1GxdrEbqVCwcD-ChSOvd5qLQqm9AFYMow4xRe_ym9uSAmfMULMrntD/exec"; // ← ضع/ثبّت رابطك



const form = document.getElementById('f');

const msg  = document.getElementById('msg');



form.addEventListener('submit', async (e)=>{

  e.preventDefault(); msg.style.display='none';

  try{

    const fd = new FormData(form);

    const file = fd.get('file');

    if (!file || (file && !file.name)) fd.delete('file'); // لا ترسل حقل فارغ



    const res  = await fetch(API, { method:'POST', body:fd });

    const data = await res.json().catch(()=>({ok:false,error:'Bad JSON'}));



    if (!res.ok || !data.ok) throw new Error(data.error || ('HTTP '+res.status));



    msg.className='alert ok'; msg.textContent='Great — your request was submitted!'; msg.style.display='block';

    form.reset();

  }catch(err){

    msg.className='alert err'; msg.textContent='Sorry — something went wrong. '+err.message; msg.style.display='block';

  }

});

</script>

</body>

</html>
