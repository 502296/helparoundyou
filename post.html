<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Post a Request — Help Around You</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>

:root{

  --bg:#faf7f2; --ink:#111827; --muted:#6b7280;

  --violet:#6c5ce7; --violet-700:#574bd8; --card:#fff;

  --shadow:0 14px 38px rgba(0,0,0,.08); --radius:16px;

}

*{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

.container{max-width:860px;margin:0 auto;padding:28px}

header{display:flex;align-items:center;gap:12px;margin-bottom:4px}

.logo{width:56px;height:56px;border-radius:12px;background:conic-gradient(from 190deg at 70% 30%, var(--violet), #ff6b6b);

  box-shadow:inset 0 0 0 5px rgba(255,255,255,.7), var(--shadow)}

h1{margin:0;font-weight:800}

.panel{background:var(--card);border-radius:18px;box-shadow:var(--shadow);padding:22px}

label{display:block;margin:12px 0 6px;font-weight:600}

input,select,textarea{width:100%;padding:12px 14px;border:1px solid #e6e2da;border-radius:12px;font:inherit}

textarea{min-height:120px;resize:vertical}

.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}

.btn{border:0;border-radius:12px;padding:12px 18px;font-weight:800;cursor:pointer}

.btn-primary{background:var(--violet);color:#fff;box-shadow:0 10px 24px rgba(108,92,231,.28)}

.btn-primary:hover{background:var(--violet-700)}

.btn-ghost{background:#fff;box-shadow:var(--shadow)}

.note{color:var(--muted);margin-top:8px}

.alert{display:none;margin-top:12px;padding:12px;border-radius:12px}

.ok{background:#e8f8ef;color:#0d6b3d}.err{background:#fee2e2;color:#991b1b}

</style>

</head>

<body>

<div class="container">

  <header>

    <div class="logo"></div>

    <h1>Help Around You</h1>

  </header>



  <h2 style="margin:6px 0 12px">Post a request</h2>

  <p style="color:#6b7280;margin:0 0 16px">Fill the fields. A neighbor will reach out to help.</p>



  <form id="f" class="panel">

    <label>Email *</label>

    <input name="email" type="email" required placeholder="you@email.com"/>



    <label>Request Title *</label>

    <input name="title" required/>



    <label>Description *</label>

    <textarea name="description" required></textarea>



    <label>Category *</label>

    <select name="category" required>

      <option value="">Select…</option>

      <option>Moving</option><option>Pickup with Truck</option>

      <option>Cleaning</option><option>Lawn Care</option><option>Custom Task</option>

    </select>



    <div class="row">

      <div>

        <label>Location (zip or area) *</label>

        <input name="location" required placeholder="e.g., 40218"/>

      </div>

      <div>

        <label>Date needed</label>

        <input name="dateNeeded" type="date"/>

      </div>

    </div>



    <label>Contact Info (optional)</label>

    <input name="contactInfo" placeholder="Phone or preferred contact"/>



    <label>Photo / File (optional)</label>

    <input name="file" type="file" accept="image/*,.pdf"/>



    <div style="display:flex;gap:10px;margin-top:14px">

      <button class="btn btn-primary" type="submit">Post a request</button>

      <a class="btn btn-ghost" href="index.html">Cancel</a>

    </div>



    <div id="msg" class="alert"></div>

    <div class="note">No commissions. Free to use. You can donate anytime ♥</div>

  </form>

</div>



<script>

const API = "https://script.google.com/macros/s/AKfycbwMAf07IKqdgu1GxdrEbqVCwcD-ChSOvd5qLQqm9AFYMow4xRe_ym9uSAmfMULMrntD/exec";



const form = document.getElementById('f');

const msg  = document.getElementById('msg');



form.addEventListener('submit', async (e)=>{

  e.preventDefault(); msg.style.display='none';

  try{

    const fd = new FormData(form);

    const file = fd.get('file'); if(!file || !file.name) fd.delete('file'); // لا ترسل ملف فارغ



    const res  = await fetch(API, { method:'POST', body:fd });

    const data = await res.json().catch(()=>({ok:false,error:'Bad JSON'}));

    if(!res.ok || !data.ok) throw new Error(data.error || ('HTTP '+res.status));



    msg.className='alert ok'; msg.textContent='Great — your request was submitted!'; msg.style.display='block';

    form.reset();

  }catch(err){

    msg.className='alert err'; msg.textContent='Sorry — something went wrong. '+err.message; msg.style.display='block';

  }

});

</script>

</body>

</html>
