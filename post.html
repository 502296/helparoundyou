<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Post a Request — HelpAroundYou</title>



  <!-- ربط ملف CSS الأساسي -->

  <link rel="stylesheet" href="style.css?v=2"/>



  <!-- ستايل داخلي لضمان أن الحقول فاتحة -->

  <style>

    .page-wrap {

      max-width: 1100px;

      margin: 0 auto;

      padding: 24px 5%;

    }



    .form-card {

      max-width: 640px;

      margin: 0 auto;

      padding: 20px;

      border-radius: 14px;

      background: #fff;

      box-shadow: 0 8px 28px rgba(0,0,0,.08);

    }



    form label {

      display: block;

      margin: 12px 0 6px;

      font-weight: 600;

      color: #222;

    }



    form input[type="text"],

    form input[type="email"],

    form input[type="date"],

    form input[type="tel"],

    form select,

    form textarea {

      width: 100%;

      padding: 12px 14px;

      border-radius: 10px;

      border: 1px solid #d9d9e3;

      background: #f9f9f9;     /* فاتح */

      color: #222;             /* نص غامق */

      font-size: 16px;

      outline: none;

      transition: border-color .2s, box-shadow .2s, background .2s;

    }



    form textarea {

      min-height: 120px;

      resize: vertical;

    }



    form input::placeholder,

    form textarea::placeholder {

      color: #888;

    }



    form input:focus,

    form select:focus,

    form textarea:focus {

      background: #fff; /* أبيض عند الكتابة */

      border-color: #7b42f6;

      box-shadow: 0 0 0 4px rgba(123, 66, 246, 0.15);

    }



    .help {

      font-size: 13px;

      color: #666;

      margin-top: 4px;

    }



    .actions {

      display: flex;

      gap: 12px;

      align-items: center;

      margin-top: 14px;

    }



    .btn.submit {

      background: #7b42f6;

      color: #fff;

      border: none;

      padding: 0.8rem 1.4rem;

      border-radius: 8px;

      font-weight: bold;

      cursor: pointer;

      transition: 0.2s;

    }



    .btn.submit:hover {

      background: #5e2fc2;

    }



    .link-cancel {

      color: #555;

      text-decoration: underline;

      font-size: 0.9rem;

    }



    @media (max-width: 768px) {

      .form-card { padding: 16px; }

      .actions { flex-direction: column; align-items: stretch; }

      .actions .btn { width: 100%; }

    }

  </style>

</head>



<body>

  <div class="page-wrap">

    <h1 style="margin: 10px 0 18px;">Post a request</h1>



    <div class="form-card">

      <form id="requestForm" action="#" method="POST" enctype="multipart/form-data" novalidate>

        <!-- Email -->

        <label for="email">Email *</label>

        <input id="email" name="email" type="email" placeholder="you@example.com" required/>



        <!-- Title -->

        <label for="title">Request Title *</label>

        <input id="title" name="title" type="text" placeholder="e.g., Need help moving couch" maxlength="120" required/>



        <!-- Description -->

        <label for="description">Description *</label>

        <textarea id="description" name="description" placeholder="Add details that help the neighbor understand the task…" required></textarea>

        <div class="help">What, where, any tools needed, time window, stairs, heavy items, etc.</div>



        <!-- Category -->

        <label for="category">Category *</label>

        <select id="category" name="category" required>

          <option value="" disabled selected>Select…</option>

          <option>Moving help</option>

          <option>Pickup with truck</option>

          <option>Yard cleanup (leaves/branches)</option>

          <option>Cleaning</option>

          <option>Small fix / handyman</option>

          <option>Other</option>

        </select>



        <!-- Location -->

        <label for="location">Location (zip or area) *</label>

        <input id="location" name="location" type="text" placeholder="e.g., 40218 or Highlands" required/>



        <!-- Date -->

        <label for="date">Date needed *</label>

        <input id="date" name="date" type="date" required/>



        <!-- Contact (optional) -->

        <label for="contact">Contact Info (optional)</label>

        <input id="contact" name="contact" type="text" placeholder="Phone or preferred method (optional)"/>



        <!-- File -->

        <label for="file">Photo / File (optional)</label>

        <input id="file" name="file" type="file" accept="image/*,application/pdf"/>

        <div class="help">Helps the helper understand the task (max ~10MB).</div>



        <!-- Actions -->

        <div class="actions">

          <button id="submitBtn" class="btn submit" type="submit">Submit Request</button>

          <a class="link-cancel" href="index.html">Cancel</a>

        </div>



        <p class="help" style="margin-top:10px">

          No commissions. Free to use. Share only what’s needed. Donate any time to support the community ♥

        </p>



        <p id="formMsg" role="status" style="margin-top:12px;font-weight:600"></p>

      </form>

    </div>

  </div>



  <script>

    // منع الملفات الكبيرة + منع الضغط مرتين

    (function(){

      const form = document.getElementById('requestForm');

      const btn  = document.getElementById('submitBtn');

      const msg  = document.getElementById('formMsg');

      const file = document.getElementById('file');



      form.addEventListener('submit', function(e){

        if (file && file.files.length){

          const f = file.files[0];

          const max = 10 * 1024 * 1024; // 10MB

          if (f.size > max){

            e.preventDefault();

            msg.textContent = 'File is too large (max ~10MB). Please choose a smaller file.';

            msg.style.color = '#ff9800';

            return;

          }

        }

        btn.disabled = true;

        btn.textContent = 'Submitting…';

        msg.textContent = 'Submitting…';

        msg.style.color = '#888';



        if (form.getAttribute('action') === '#'){

          e.preventDefault();

          setTimeout(()=>{

            msg.textContent = 'Request saved locally (demo). We will connect this form to Airtable/Tally next.';

            msg.style.color = '#4caf50';

            btn.disabled = false;

            btn.textContent = 'Submit Request';

          }, 600);

        }

      }, false);

    })();

  </script>

</body>

</html>
