<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8">

  <title>HelpAroundYou — Post a Request</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>

    :root{

      --bg:#f6fbff;

      --card:#ffffff;

      --ink:#0f172a;

      --sub:#475569;

      --brand:#1a9f53;

      --brand-ink:#0f6c3a;

      --halo:#e6f6ff;

      --stroke:#e2e8f0;

    }

    html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}

    .wrap{max-width:960px;margin:auto;padding:24px}

    header{display:flex;align-items:center;gap:12px;margin-bottom:12px}

    .logo{width:40px;height:40px}

    .brand{font-weight:800;font-size:20px}

    .brand .around{color:var(--brand)}

    .card{background:var(--card);border:1px solid var(--stroke);border-radius:14px;padding:20px;box-shadow:0 8px 30px rgba(2,15,31,.06)}

    h1{margin:0 0 6px 0;font-size:22px}

    .muted{color:var(--sub);margin:0 0 18px 0}

    form{display:grid;gap:14px}

    label{font-weight:700}

    input,select,textarea{width:100%;padding:12px 14px;border:1px solid var(--stroke);border-radius:10px;background:#fff;font:inherit}

    textarea{min-height:110px;resize:vertical}

    .row{display:grid;gap:14px}

    @media(min-width:720px){ .row{grid-template-columns:1fr 1fr}}

    .actions{display:flex;gap:12px;align-items:center}

    .btn{appearance:none;border:0;border-radius:999px;padding:12px 18px;font-weight:800;cursor:pointer}

    .btn-primary{background:var(--brand);color:#fff}

    .btn-primary:hover{background:var(--brand-ink)}

    .btn-ghost{background:#eaf7ef;color:var(--brand-ink)}

    .note{font-size:13px;color:var(--sub)}

    .alert{margin-top:12px;padding:12px;border-radius:10px}

    .alert-ok{background:#e6f6ee;color:#0b6b3f;border:1px solid #c8ead8}

    .alert-bad{background:#ffefef;color:#9b1b1b;border:1px solid #ffd0d0}

    .hidden{display:none}

  </style>

</head>

<body>

  <div class="wrap">

    <header>

      <!-- برعم أخضر داخل دائرة سماوية (SVG) -->

      <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">

        <defs>

          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">

            <stop offset="0" stop-color="#cdefff"/>

            <stop offset="1" stop-color="#a9defb"/>

          </linearGradient>

        </defs>

        <circle cx="32" cy="32" r="30" fill="url(#g)"/>

        <circle cx="24" cy="40" r="6" fill="#1a9f53"/>

        <path d="M24 34c9-10 18-7 18 2" fill="none" stroke="#1a9f53" stroke-width="5" stroke-linecap="round"/>

      </svg>

      <div class="brand">Help <span class="around">Around</span> You</div>

    </header>



    <div class="card">

      <h1>Post a Request</h1>

      <p class="muted">Tell us what you need and when. A neighbor will reach out to help.</p>



      <form id="reqForm" enctype="multipart/form-data">

        <div>

          <label>Email *</label>

          <input name="email" type="email" required placeholder="you@example.com">

        </div>



        <div>

          <label>Request Title *</label>

          <input name="title" required placeholder="Move a sofa / Lawn care / Pickup with truck…">

        </div>



        <div>

          <label>Description *</label>

          <textarea name="description" required placeholder="Brief details that help neighbors understand the task."></textarea>

        </div>



        <div>

          <label>Category *</label>

          <select name="category" required>

            <option value="" hidden>Select…</option>

            <option>Moving</option>

            <option>Pickup with Truck</option>

            <option>Cleaning</option>

            <option>Lawn Care</option>

            <option>Custom Task</option>

            <option>Other</option>

          </select>

        </div>



        <div class="row">

          <div>

            <label>Location (zip or area) *</label>

            <input name="location" required placeholder="e.g., 40218">

          </div>

          <div>

            <label>Date needed</label>

            <input name="dateNeeded" type="date">

          </div>

        </div>



        <div>

          <label>Contact Info (optional)</label>

          <input name="contact" placeholder="Phone or preferred contact method (optional)">

        </div>



        <div>

          <label>Photo / File (optional)</label>

          <input name="file" type="file" accept="image/*,application/pdf">

          <div class="note">Helps the helper understand the task (max ~10MB).</div>

        </div>



        <div class="actions">

          <button class="btn btn-primary" type="submit">Submit Request</button>

          <a class="btn btn-ghost" href="/">Cancel</a>

          <div class="note">No commissions. Free to use. Donate anytime to support the community ♥</div>

        </div>



        <div id="ok"  class="alert alert-ok hidden">Thanks! Your request was submitted.</div>

        <div id="bad" class="alert alert-bad hidden">Sorry — something went wrong. Please try again.</div>

      </form>

    </div>

  </div>



  <script>

  const WEBAPP = 'YOUR_WEB_APP_URL'; // ← استبدلها برابط الويب آب



  const form = document.getElementById('reqForm');

  const ok   = document.getElementById('ok');

  const bad  = document.getElementById('bad');



  form.addEventListener('submit', async (ev) => {

    ev.preventDefault();

    ok.classList.add('hidden');

    bad.classList.add('hidden');



    const fd = new FormData(form);



    try {

      const r = await fetch(WEBAPP, { method:'POST', body: fd });

      const j = await r.json().catch(()=>({}));

      if (r.ok && j.ok) {

        ok.classList.remove('hidden');

        form.reset();

        // انتقال لطيف لصفحة الطلبات

        setTimeout(()=>{ location.href = '/requests.html'; }, 900);

      } else {

        console.log('Server error:', j);

        bad.classList.remove('hidden');

      }

    } catch(err) {

      console.error(err);

      bad.classList.remove('hidden');

    }

  });

  </script>

</body>

</html>
