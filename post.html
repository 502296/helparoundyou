<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Post a Request — Help Around You</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700;800&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>

:root{

  --ink:#0e1b2b; --muted:#5d6b7a; --green:#19a857; --green-700:#0e7c3e;

  --sky:#eef6ff; --card:#fff; --halo:#bfe8ff; --radius:22px; --shadow:0 18px 40px rgba(14,27,43,.08);

}

*{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#f7fbff,#eaf4ff);color:var(--ink);

  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

.container{max-width:880px;margin:0 auto;padding:28px}

header{display:flex;align-items:center;gap:16px;margin-bottom:8px}

.logo{width:78px;height:78px;border-radius:50%;

  background:

    radial-gradient(circle at 34% 34%, #c9f2da 0 34px, #97e6b7 34px 72px),

    radial-gradient(circle at 70% 68%, #22c063 0 12px, #0000 13px);

  box-shadow:inset 0 0 0 8px var(--halo), 0 10px 18px rgba(0,0,0,.04);}

h1{font-family:Nunito,Inter,sans-serif;margin:0;font-size:28px} h1 .around{color:#117a3e}

.form{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:24px}

label{display:block;font-weight:600;margin:12px 0 6px}

input,select,textarea{width:100%;padding:12px 14px;border-radius:14px;border:1px solid #dfe3ea;font:inherit}

textarea{min-height:120px;resize:vertical}

.row{display:grid;grid-template-columns:1fr 1fr;gap:14px}

.actions{display:flex;gap:12px;margin-top:16px}

.btn{border:0;border-radius:999px;padding:12px 20px;font-weight:700;cursor:pointer}

.btn-primary{background:var(--green);color:#fff}.btn-primary:hover{background:var(--green-700)}

.btn-lite{background:#eef2f6}

.alert{margin-top:14px;padding:12px 14px;border-radius:14px;display:none}

.err{background:#fee2e2;color:#991b1b}.ok{background:#e8f8ef;color:#0d6b3d}

small{color:var(--muted)}

</style>

</head>

<body>

<div class="container">

  <header>

    <div class="logo" aria-hidden="true"></div>

    <h1>Help <span class="around">Around</span> You</h1>

  </header>



  <h2 style="margin:0 0 10px;font-family:Nunito,Inter,sans-serif">Post a request</h2>

  <p style="margin:0 0 16px;color:var(--muted)">Fill the fields below. A neighbor will reach out to help.</p>



  <form id="f" class="form">

    <label>Email *</label>

    <input name="email" type="email" required placeholder="you@email.com"/>



    <label>Request Title *</label>

    <input name="title" required/>



    <label>Description *</label>

    <textarea name="description" required></textarea>



    <label>Category *</label>

    <select name="category" required>

      <option value="">Select…</option>

      <option>Moving</option><option>Pickup with Truck</option>

      <option>Cleaning</option><option>Lawn Care</option><option>Custom Task</option>

    </select>



    <div class="row">

      <div>

        <label>Location (zip or area) *</label>

        <input name="location" required placeholder="e.g., 40218"/>

      </div>

      <div>

        <label>Date needed</label>

        <input name="dateNeeded" type="date"/>

      </div>

    </div>



    <label>Contact Info (optional)</label>

    <input name="contactInfo" placeholder="Phone or preferred contact"/>



    <label>Photo / File (optional)</label>

    <input name="file" type="file" accept="image/*,.pdf"/>



    <div class="actions">

      <button class="btn btn-primary" type="submit">Post a request</button>

      <a class="btn btn-lite" href="index.html">Cancel</a>

    </div>



    <div id="msg" class="alert"></div>

    <small>No commissions. Free to use. You can donate anytime ♥</small>

  </form>

</div>



<script>

const API = "https://script.google.com/macros/s/AKfycbwMAf07IKqdgu1GxdrEbqVCwcD-ChSOvd5qLQqm9AFYMow4xRe_ym9uSAmfMULMrntD/exec"; // ← Web App



const form = document.getElementById('f');

const msg  = document.getElementById('msg');



form.addEventListener('submit', async (e)=>{

  e.preventDefault(); msg.style.display='none';

  try{

    const fd = new FormData(form);

    // لا ترسل حقل ملف فارغ (Safari يعطي File بلا اسم أحياناً)

    const file = fd.get('file'); if(!file || !file.name) fd.delete('file');



    const res  = await fetch(API, { method:'POST', body:fd });

    const data = await res.json().catch(()=>({ok:false,error:'Bad JSON'}));

    if(!res.ok || !data.ok) throw new Error(data.error || ('HTTP '+res.status));



    msg.className='alert ok'; msg.textContent='Great — your request was submitted!'; msg.style.display='block';

    form.reset();

  }catch(err){

    msg.className='alert err'; msg.textContent='Sorry — something went wrong. '+err.message; msg.style.display='block';

  }

});

</script>

</body>

</html>
