<!doctype html>

<html lang="en">

<head>

<meta charset="utf-8">

<title>Recent Requests — HelpAroundYou</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

  :root{--bg:#f6fbff;--ink:#0f172a;--sub:#475569;--brand:#1a9f53;--card:#fff;--stroke:#e2e8f0}

  html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}

  .wrap{max-width:1000px;margin:auto;padding:22px}

  header{display:flex;align-items:center;gap:12px;margin-bottom:8px}

  .logo{width:40px;height:40px}

  .brand{font-weight:900;font-size:20px}

  .brand .around{color:var(--brand)}

  h1{margin:8px 0 16px}

  .grid{display:grid;gap:14px}

  @media(min-width:860px){.grid{grid-template-columns:1fr 1fr}}

  .card{background:var(--card);border:1px solid var(--stroke);border-radius:14px;padding:16px}

  .muted{color:var(--sub);font-size:14px}

  .chip{display:inline-block;padding:3px 8px;border-radius:999px;background:#eaf7ef;color:#0f6c3a;font-weight:700;font-size:12px}

</style>

</head>

<body>

  <div class="wrap">

    <header>

      <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">

        <defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#cdefff"/><stop offset="1" stop-color="#a9defb"/></linearGradient></defs>

        <circle cx="32" cy="32" r="30" fill="url(#g)"/>

        <circle cx="24" cy="40" r="7" fill="#1a9f53"/>

        <path d="M24 33c10-11 21-7 21 4" fill="none" stroke="#1a9f53" stroke-width="5" stroke-linecap="round"/>

      </svg>

      <div class="brand">Help <span class="around">Around</span> You</div>

    </header>



    <h1>Recent Requests</h1>

    <div id="list" class="grid"></div>

    <p id="empty" class="muted" style="display:none">No requests yet.</p>

  </div>



<script>

const WEBAPP = 'YOUR_WEB_APP_URL'; // نفس رابط الويب آب



async function load() {

  const box = document.getElementById('list');

  const empty = document.getElementById('empty');

  try {

    const r = await fetch(`${WEBAPP}?list=1&limit=24`);

    const j = await r.json();

    if (!j.ok || !j.items.length){ empty.style.display='block'; return; }

    j.items.forEach(item=>{

      const el = document.createElement('div');

      el.className='card';

      el.innerHTML = `

        <div style="display:flex;justify-content:space-between;gap:8px;align-items:center">

          <strong>${escapeHtml(item.title || '(Untitled)')}</strong>

          <span class="chip">${escapeHtml(item.category || 'Other')}</span>

        </div>

        <div class="muted">${escapeHtml(item.location || '')} · ${escapeHtml(item.dateNeeded || '')}</div>

        <p>${escapeHtml(item.description || '')}</p>

        ${item.fileUrl ? `<a href="${item.fileUrl}" target="_blank" rel="noopener">View attachment</a>` : ''}

      `;

      box.appendChild(el);

    });

  } catch(err){

    empty.textContent = 'Could not load requests.'; empty.style.display='block';

  }

}

function escapeHtml(s){return (s||'').replace(/[&<>"']/g,m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m]));}

load();

</script>

</body>

</html>
